exit
!flag_before && ( day_week != 1 || (day_week == 1 && ( Time.at(d_time) > Time.at(d_noon))))
@week[day_week-1][1] == "" && @week[day_week-1][0] != ""
shift
continue
(day_week == 1 && ( Time.at(d_time) > Time.at(d_noon)))
day_week != 1 
!flag_before && ( day_week != 1 || (day_week == 1 && ( Time.at(d_time) > Time.at(d_noon))))
@week[day_week-1] != nil
@week[day_week] == nil
on_shift
shift_week_num == week_number
if shift_week_num == week_number
d_noon
 d_time
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
shift
continue
d_time
d_noon
shift
continue
shift
continue
Guard.all
Guard
shift
exit
continue
shift.datetime.strftime('%A')
on_shift
shift.datetime.strftime('%d')
week
continue
week[day_week-1][1] == "" && week[day_week-1][0] != ""
week[day_week-1] != nil
week[day_week] == nil && week.length != 0
shift.datetime.strftime('%d')
shift.datetime.strftime('%A')
on_shift
week
continue
on_shift
shift.datetime.strftime('%A')
day_week
shift.datetime.strftime('%d')
week
continue
week[day_week-1][1] == "" && week[day_week-1][0] != ""
week[day_week-1] 
week[day_week] == nil && week.length != 0
on_shift
week
continue
shift.datetime.strftime('%d')
shift.datetime.strftime('%A')
day_week
on_shift
week
continue
day_week
week[day_week] == nil && week.length != 0
on_shift
week
exit
end
shift.datetime.strftime('%A')
day_week
week.length
week[day_week]
on_shift
shift_week_num == week_number
shift_week_num
exit
all_shift
monday.first["on_shift"]
monday.first
shift
thursday
thusrday
wednesday
tuesday
monday
exit
shift
guard
@week
exit
continue
@week
continue
all_shifts
continue
all_shifts
continue
Guard.all
guard
all_shifts
all_shifts.length
continue
all_shifts.length
continue
all_shifts.length
all_shifts
continue
all_shifts
continue
all_shifts
continue
all_shifts
Guard.wue SELECT  "guards".* FROM "guards" WHERE "guard"."id" = 1
all_shifts
exit
Shift.where(guard_id: 1, site_id: 1)
Hirb.enable
Shift.all
all_shifts
 all_shifts.length != 0
continue
 all_shifts.length != 0
all_shifts
continue
all_shifts
 all_shifts.length != 0
exit
all_shifts.length
all_shifts
all_shifts!= nil
all_shifts
continue
all_shifts
continue
all_shifts
exit
all_shifts
continue
all_shifts
continue
all_shifts
continue
all_shifts
continue
all_shifts
all_shift
continue
exit
shift
all_shifts.each do |shift|
all_shifts
Shift.where(guard_id: guard.id, site_id: id)
continue
Shift.where(guard_id: guard.id, site_id: id)
continue
Shift.where(guard_id: guard.id, site_id: id)
continue
Shift.where(guard_id: guard.id, site_id: id)
continue
Shift.where(guard_id: guard.id, site_id: id)
all_shift
id
guard
exit
@sites
 @sites = Site.all
sites
Site.all
csv = CSV.parse(csv_text)
csv_text = File.read(csv_path)
csv_path = file.path
file
exit
file
continue
file
continue
file
continue
file
exit
file
exit
Guard.all
continue
row
Guard.all
row
continue
row
continue
row
continue
Guard.all
continue
Guard.all
exit
role
Guard.all
continue
exit
row
role
exit
Guard.all
separated.last.split(" ").last
separated.last.split(" ")
separated.last
separated
separated.last.split(" ").last
separated.last.split(" ")
separated.last.split(":")
separated
exit
Shift.last
row
continue
Shift.last
row
continue
row
Shift.all
exit
xit
exit
Shift.last
Shift.all
exit
Shift.all.count
Shift.first
Shift.all
exit
row
continue
Shift.all
exit
shift_check
row
exit
